# Greedy

- 체육복 빌려주기



## 탐욕법 (Greedy Algorithm)

> 알고리즘의 각 단계에서 그 순간에 최적이라고 생각되는 것을 선택
>
> - 탐욕법으로 최적 해를 찾을 수 있는 문제 
>
>   : 현재의 선택이 마지막 해답의 최적성을 해치지 않을 때 

<br>

### 탐욕법 적용 가능성 확인 법

1. 빌려줄 학생들을 "정해진 순서"로 살핀다.
2. 정해진 순서에 따라 우선적으로 빌려줄 방향을 정한다.

<br>



### #sol1 [이론]

> 학생의 수는 기껏해야 30명!
>
> 1. 학생 수만큼 배열을 확보하고, 여기에 각자 가지고 있는 체육복의 수를 기록한다.
> 2. 번호 순서대로 스캔하면서 빌려줄 관계를 정한다.
>    - 앞사람 / 뒷사람에게 빌려줌
> 3. 최후에 체육복을 가지고 있는 사람의 수를 센다.
>
> **학생 수가 적은 경우에 최적!!!!!!**

<br>

1. 코드의 유연성을 위해 앞 뒤로 1을 각각 추가한다.

   - 1번학생 == 배열의 1번 인덱스

     ```python 
     n = 10
     lost = [1,5,8,3,7]
     reverse = [7,5,2,9,6]
     ```

2. reverse에 해당하는 인덱스에 +1

3. lost에 해당하는 인덱스에 -1

4. 빌려줄 수 있는지 확인

   - 1이면 자신이 가짐 (pass)
   - 0이면 앞뒤로 빌려줄 수 있는지 확인
   - 2이면 앞을 우선적으로 빌려준다.

5. 체육복을 가진 학생의 수를 출력한다.

<br>

#### 알고리즘 복잡도 :  O(n)

- 2는 reverse의 길이에 비례 
- 3은 lost의 길이에 비례
- 4는 전체 학생 수 (O(n))에 비례 O(n)

<br>



### #sol2 [이론]

> 만약!!!!!!!!! 학생의 수 (천만) 가 매우 크다면? 또 여벌의 체육복을 가져온 학생은 매우 적다면?
>
> - 천만 학생이 앞뒤를 탐색하면서, 여벌이 없음에도 탐색을 해야하는 문제가 발생..
>
> <br>
>
> **해결 방법**
>
> - 여벌의 체육복을 가져온 학생들의 번호 (reverse)를 정렬
>   - 작은 -> 큰 순서대로 학생들을 처리할 수 있다.
> - 하나하나 탐색하면서 빌려줄 수 있는 다른 학생을 찾아서 처리한다.
>   - 여벌의 체육복을 가져온 학생들만 처리
>   - 1만큼 작은 학생 -> 1보다 큰 학생의 순서로 탐색한다.

<br>

- 정렬에 의해 O(nlogn) -> n은 reverse의 길이 

- 다른 학생을 찾아서 처리 : 해시를 적용해서 상수 시간에 처리 가능!



#### 만약, 여벌의 체육복을 가져온 학생은 많은데 도난당한 학생이 적은 경우!

- 도난당한 학생을 정렬 (위와 반대)

<br>

1. reserve의 원소들을 오름차순으로 정렬

   ```python 
   n = 10
   lost = [1,5,8,3,7]
   reverse = [7,5,2,9,6]
   
   reverse = [2,5,6,7,9]
   ```

2. 체육복을 도난당한 학생들을 **해쉬 테이블**로 

3. 도난당한 학생이지만 여벌을 가져온 학생인 경우 reverse와 해쉬 테이블에서 제거한다.

4. 여벌의 체육복을 가져와 빌려줄 수 있는 경우만 남은 reverse에서 하나씩 탐색

   - 만약, 자신보다 1만큼 작은 학생이 해쉬에 있는 경우 
     - 1만큼 작은 학생에게 빌려준 것으로 처리함
   - 만약, 자신보다 1만큼 작은 학생이 해쉬에 없는 경우 
     - 만약, 자신보다 1만큼 큰 학생이 해쉬에 있는 경우 
       - 1만큼 큰 학생에게 빌려준 것으로 처리함
     - 만약, 자신보다 1만큼 큰 학생이 해쉬에 없는 경우 
       - pass

5. 전체 학생의 수에서 해쉬 테이블에 남은 학생의 수를 빼면, 체육복을 가진 학생의 수를 구할 수 있다. 

<br>



#### 알고리즘 복잡도 : O(klogk)

- 1은 정렬 ->  O(klogk)
- 4는 여벌의 체육복을 가져온 학생 (k)의 수에 비례 
  - 몇명은 빠짐 (가져왔는데 도난당함)
  - 빌려줄 수 있는 학생이 도난당한 학생인지를 확인하는 것을 상수시간 안에 할 수 있다. 
    - 해쉬 테이블을 내부적으로 이용
